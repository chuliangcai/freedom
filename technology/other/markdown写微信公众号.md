### å‰è¨€
æ—©å‰è¿›å…¥`it`è¿™ä¸ªè¡Œä¸šå°±æœ‰å†™åšå®¢çš„ä¹ æƒ¯ï¼Œä¹‹å‰ç”¨çš„ä¸€æ¬¾ç™¾åº¦å‡ºçš„ã€ç™¾åº¦ç©ºé—´ã€‘çš„äº§å“ï¼Œå½“æ—¶ä¸€äº›æ–‡ç« è¿˜æœ‰ä¸å°‘çš„æµè§ˆé‡ï¼Œå¯æƒœåæ¥ã€ç™¾åº¦ç©ºé—´ã€‘è¿™æ¬¾äº§å“ä¸‹çº¿äº†ï¼Œå°±è¿™æ ·è‡ªå·±çš„ä¸€ç‚¹å°ç§¯ç´¯ä»˜è¯¸ä¸œæµäº†ã€‚åæ¥æ¥è§¦åˆ°äº†gitå’Œgithubã€‚å¿ƒæƒ³ä¸èƒ½å†è¢«åˆ«äººç‰µç€é¼»å­èµ°äº†ï¼Œå†™åšå®¢æœ¬åœ°å¿…é¡»å¾—ç•™ä¸ªå¤‡ä»½ï¼Œæ­£å¥½gitæ»¡è¶³è¿™ä¸€ç‚¹ï¼Œå¦‚æ˜¯å°±åœ¨githubä¸Šé—´äº†ä¸€ä¸ªä¸ªäººä»“åº“ã€‚æŠŠæ¯æ¬¡å†™çš„åšå®¢commitä¸Šå»ã€‚ä½†ä»“åº“çš„æƒé™è®¾ç½®æˆäº†`private`ï¼Œæ¯•ç«Ÿæœ‰äº›æ–‡ç« åªæ˜¯è‡ªå·±çº¯ç²¹çš„ä¸ªäººç¬”è®°ï¼Œä¸å¤ªå¥½å…¬å¼€äº†ï¼Œéšç€å„å¤§åˆ›ä½œå¹³å°çš„å…´èµ·ï¼Œæ˜é‡‘ã€ç®€ä¹¦ã€çŸ¥ä¹ã€CSDNã€è¿˜æœ‰å¾®ä¿¡å…¬ä¼—å·ï¼Œå…¶ä¸­å¾®ä¿¡å…¬ä¼—å·æˆ‘è§‰å¾—æ˜¯ä¸€ä¸ªéå¸¸ä¸é”™çš„æ–¹å¼ï¼Œå› ä¸ºåªè¦ç”¨æˆ·å…³æ³¨ï¼Œåšä¸»å°±å¯ä»¥ç»™å…¶æ¨é€æ–‡ç« ã€‚åœ¨çŸ¥è¯†çº¯ç²¹åˆ†äº«çš„åŸºç¡€ä¸ŠåŠ äº†ä¸€ç‚¹å¼ºè¡Œå®‰åˆ©çš„æ„æ€ã€‚é‚£ä¹ˆæ€ä¹ˆæŠŠæˆ‘githubä¸Šé¢çš„æ–‡ç« å¯¼å…¥åˆ°å¾®ä¿¡å…¬ä¼—å·é‡Œé¢å‘¢ï¼Œä¸‹é¢å°±ä»¥æˆ‘çš„è¿™ç¯‡åšæ–‡ä¸ºä¾‹ä»‹ç»ä¸‹æˆ‘æ˜¯æ€ä¹ˆæ“ä½œçš„ã€‚
### é˜»ç¢çš„åœ°æ–¹å’Œè§£å†³æ€è·¯
* å¾®ä¿¡å…¬ä¼—å·ä¸æ”¯æŒmarkdownæ ¼å¼ï¼Œè¿™ä¸ªmarkdown-niceè¿™æ¬¾äº§å“å¯ä»¥è§£å†³
* githubåœ¨çº¿å›¾ç‰‡é“¾æ¥ç›´æ¥ç²˜è´´åˆ°å¾®ä¿¡å…¬ä¼—å·é‡Œæ˜¯ä¸èƒ½ä¸Šä¼ çš„ä¼šæŠ±è¿™ä¸ªé”™ï¼šåŸå› ä¼°è®¡æ˜¯å› ä¸ºè¢«å¢™äº†

![image-20210206113635544](image-20210206113635544.png)

* è¿™ç‚¹å¯ä»¥ç”¨`jsdelivr`è¿›è¡ŒCDNåŠ é€Ÿï¼Œæ¯”å¦‚æœ‰ä¸€å¼ githubå›¾ç‰‡åœ°å€æ˜¯ï¼š`https://github.com/chuliangcai/study/blob/master/src/computer-science-education.jpg?raw=true` studyæ˜¯ä»“åº“åï¼Œåˆ†æ”¯æ˜¯masterï¼Œæ–‡ä»¶è·¯å¾„æ˜¯`/src/computer-science-education.jpg`ï¼ŒåŠ é€Ÿåçš„åœ°å€æ˜¯ï¼š`https://cdn.jsdelivr.net/gh/chuliangcai/study/src/computer-science-education.jpg`

### å¼€æ

1. é€‰æ‹©ä¸€ç¯‡å†™å¥½çš„æœ¬åœ°æ–‡ç« ï¼Œæ¯”å¦‚`markdownå†™å¾®ä¿¡å…¬ä¼—å·.md` ï¼Œéœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯å›¾ç‰‡ä¸€å®šè¦ä½¿ç”¨æ ‡å‡†çš„markdownæ ¼å¼ï¼Œå½¢å¦‚`![title](æœ¬åœ°å›¾ç‰‡è·¯å¾„)`ï¼Œå¦åˆ™åé¢è½¬æ¢çš„æ—¶å€™ä¼šä¸æ”¯æŒã€‚

2. åœ¨githubæ–°å»ºä¸€ä¸ªä»“åº“ï¼Œè®¾ç½®æˆ`public` ï¼Œå–å`freedom`å¯“æ„è‡ªç”±ã€‚åšä¸€ä¸ªè‡ªç”±çš„ğŸ‘¨â€ğŸ’»

![image-20210206120334441](image-20210206120334441.png)

3. ä½¿ç”¨`git clone https://github.com/chuliangcai/freedom.git` å°†ä»“åº“ä¸‹è½½åˆ°æœ¬åœ°
4. å°†æœ¬åœ°æ–‡ç« æ‹·è´åˆ°ç›®æ ‡ä»“åº“ä¸­ã€‚å› ä¸ºå•çº¯çš„æ–‡ä»¶æ‹·è´æ— æ³•å°†å¼•ç”¨çš„å›¾ç‰‡ä¸€èµ·æ‹·èµ°ï¼Œæ‰€ä»¥æ­¤å¤„å†™ä»£ç è¿›è¡Œè‡ªåŠ¨æ‹·è´ï¼Œä»£ç å¦‚ä¸‹ï¼š
```java
package com.family.flexmark;

import java.io.File;
import java.io.FileReader;

import org.apache.commons.io.FileUtils;
import org.apache.commons.lang3.StringUtils;

import com.vladsch.flexmark.ast.Image;
import com.vladsch.flexmark.parser.Parser;
import com.vladsch.flexmark.util.ast.Node;
import com.vladsch.flexmark.util.collection.iteration.ReversiblePeekingIterator;
import com.vladsch.flexmark.util.data.MutableDataSet;

public class FlexMarkDemoApplication {
    private static String dirPath = "";
    public static File destFileDir;

    public static void main(String[] args) throws Exception {
        MutableDataSet options = new MutableDataSet();
        Parser parser = Parser.builder(options).build();
        String file = "/Users/chuliangcai/data/projects/blog/app/blog/editor/markdownå†™å¾®ä¿¡å…¬ä¼—å·.md";
        String descFile = "/Users/chuliangcai/data/projects/freedom/technology/other/markdownå†™å¾®ä¿¡å…¬ä¼—å·.md";
        dirPath = StringUtils.substringBeforeLast(file, "/");
        destFileDir = new File(StringUtils.substringBeforeLast(descFile, "/"));
        //noinspection ResultOfMethodCallIgnored
        destFileDir.mkdirs();
        FileUtils.copyFileToDirectory(new File(file), destFileDir);
        Node document = parser.parseReader(new FileReader(file));
        extractNode(document);
    }

    public static void extractNode(Node node) throws Exception {
        if (!node.hasChildren()) {
            return;
        }
        ReversiblePeekingIterator<Node> iterator = node.getChildIterator();
        while (iterator.hasNext()) {
            Node node1 = iterator.next();
            if (node1 instanceof Image) {
                Image image = (Image) node1;
                File imgFile = new File(dirPath + "/" + image.getUrl().toString());
                FileUtils.copyFileToDirectory(imgFile, destFileDir);
            } else {
                extractNode(node1);
            }
        }
    }
}
```
ä½¿ç”¨`typora` æ‰“å¼€`freedom`æ–‡ä»¶å¤¹ï¼Œæ•ˆæœå¦‚ä¸‹

![image-20210206122154575](image-20210206122154575.png) 

4. æäº¤æ–‡ç« `git push`
5. ç¼–å†™javaä»£ç å°†æ–‡ç« ä¸­çš„å›¾ç‰‡å…¨éƒ¨è½¬æ¢ä¸ºjsdelivrçš„è·¯å¾„ï¼Œä»£ç å¦‚ä¸‹

```java
public class RegexDemo {

    public static final String OUTPUT_PATH = "/Users/chuliangcai/Desktop/markdownå†™å¾®ä¿¡å…¬ä¼—å·.md";
    public static final Pattern PATTERN = Pattern.compile("!\\[[0-9a-zA-Z_.-]+]\\([0-9a-zA-Z_.-]+\\)");
    public static final String IMAGE_PATH_PREFIX = "https://cdn.jsdelivr.net/gh/chuliangcai/freedom/technology/algorithm/";

    public static void main(String[] args) throws Exception {
        FileInputStream fis = new FileInputStream("/Users/chuliangcai/data/projects/freedom/technology/other/markdownå†™å¾®ä¿¡å…¬ä¼—å·.md");
        BufferedReader br = new BufferedReader(new InputStreamReader(fis));
        BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(OUTPUT_PATH)));
        String str;
        while ((str = br.readLine()) != null) {
            Matcher matcher = PATTERN.matcher(str);
            if (matcher.find()) {
                String image = matcher.group();
                String fileName = StringUtils.substringBetween(image, "(", ")");
                String replaced = str.replace(image, "![" + fileName + "](" + IMAGE_PATH_PREFIX + fileName + ")");
                bw.write(replaced + "\n");
            } else {
                bw.write(str + "\n");
            }
        }
        br.close();
        bw.flush();
        bw.close();
    }
}
```
5. è¿›å…¥`markdown nice`å®˜ç½‘æ³¨å†Œè´¦æˆ·
6. å°†åˆšæ‰çš„è¾“å‡ºå†…å®¹æ‹·è´åˆ°markdownç¼–è¾‘åŒºåŸŸ

![image-20210206142803863](image-20210206142803863.png)

7. è¿›å…¥å¾®ä¿¡å…¬ä¼—å·åå°ï¼Œæ–°å»ºå›¾æ–‡ç´ æï¼Œç²˜è´´åˆšæ‰çš„å†…å®¹ã€‚

8. æœ€ç»ˆæ‰‹æœºæ•ˆæœå¦‚ä¸‹ï¼Œæ•ˆæœæ»¡åˆ†ï¼

![image-20210206143255427](image-20210206143255427.png)

### æ‰©å±•å…¶ä»–å¹³å°
#### çŸ¥ä¹

markdown-nickå°±æ”¯æŒå•¦ã€‚

### é™„å½•

jsdelivr ç½‘ç«™åœ°å€ï¼šhttps://www.jsdelivr.com/?docs=gh
markdown-nickå®˜ç½‘ï¼šhttps://www.mdnice.com/
flexmarkåœ°å€ï¼šhttps://github.com/vsch/flexmark-java